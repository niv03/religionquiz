<!DOCTYPE html>
<html lang="en">
<head>
  <title>Hindu Gods Quiz</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="container">
    <h1>Hindu Gods Quiz</h1>
    <form>
      <label id="question"></label>
      <br>
      <label class="answer">
        <input type="radio" name="answer" value="a">
        <span id="option-a"></span>
      </label>
      <br>
      <label class="answer">
        <input type="radio" name="answer" value="b">
        <span id="option-b"></span>
      </label>
      <br>
      <label class="answer">
        <input type="radio" name="answer" value="c">
        <span id="option-c"></span>
      </label>
      <br>
      <label class="answer">
        <input type="radio" name="answer" value="d">
        <span id="option-d"></span>
      </label>
      <br>
      <input type="submit" value="Submit">
    </form>
  </div>
  
  <script>
    const question = document.getElementById('question');
    const optionA = document.getElementById('option-a');
    const optionB = document.getElementById('option-b');
    const optionC = document.getElementById('option-c');
    const optionD = document.getElementById('option-d');
    const form = document.querySelector('form');
    let index = 0;
    let score = 0;

    const API_URL = 'https://opentdb.com/api.php?amount=10&category=20&difficulty=medium&type=multiple';

    async function getQuestions() {
      const response = await fetch(API_URL);
      const data = await response.json();
      return data.results;
    }

    function displayQuestion() {
      const questions = getQuestions();
      questions.then((questions) => {
        const currentQuestion = questions[index];
        question.innerHTML = currentQuestion.question;
        optionA.innerHTML = currentQuestion.incorrect_answers[0];
        optionB.innerHTML = currentQuestion.incorrect_answers[1];
        optionC.innerHTML = currentQuestion.incorrect_answers[2];
        optionD.innerHTML = currentQuestion.correct_answer;
      });
    }

    displayQuestion();

    form.addEventListener('submit', (event) => {
      event.preventDefault();
      const answer = document.querySelector('input[name="answer"]:checked');
      if (!answer) {
        alert('Please select an answer');
        return;
      }
      if (answer.value === 'd') {
        score++;
      }
      index++;
      answer.checked = false;
      if (index >= 10) {
        alert(`Quiz complete. You scored ${score} out of 10`);
        index = 0;
        score = 0;
      }
      displayQuestion();
    });
  </script>
</body>
</html>
