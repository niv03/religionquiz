const questions = [
  {
  question: "What is the name of the first Sikh Guru?",
  optionA: "Guru Nanak Dev",
  optionB: "Guru Angad Dev",
  optionC: "Guru Amar Das",
  optionD: "Guru Ram Das",
  correctOption: "optionA"
  },
  
  {
  question: "What is the name of the Sikh holy book?",
  optionA: "Guru Granth Sahib",
  optionB: "Bhagavad Gita",
  optionC: "Quran",
  optionD: "Bible",
  correctOption: "optionA"
  },
  
  {
  question: "What is the name of the second Sikh Guru?",
  optionA: "Guru Nanak Dev",
  optionB: "Guru Angad Dev",
  optionC: "Guru Amar Das",
  optionD: "Guru Ram Das",
  correctOption: "optionB"
  },
  
  {
  question: "What is the name of the fifth Sikh Guru?",
  optionA: "Guru Nanak Dev",
  optionB: "Guru Angad Dev",
  optionC: "Guru Arjan Dev",
  optionD: "Guru Hargobind",
  correctOption: "optionC"
  },
  
  {
  question: "What is the name of the sixth Sikh Guru?",
  optionA: "Guru Nanak Dev",
  optionB: "Guru Angad Dev",
  optionC: "Guru Har Rai",
  optionD: "Guru Hargobind",
  correctOption: "optionD"
  },
  
  {
  question: "What is the name of the ninth Sikh Guru?",
  optionA: "Guru Tegh Bahadur",
  optionB: "Guru Gobind Singh",
  optionC: "Guru Ram Das",
  optionD: "Guru Har Krishan",
  correctOption: "optionA"
  },
  
  {
  question: "What is the name of the tenth and last Sikh Guru?",
  optionA: "Guru Nanak Dev",
  optionB: "Guru Gobind Singh",
  optionC: "Guru Har Rai",
  optionD: "Guru Hargobind",
  correctOption: "optionB"
  },
  
  {
  question: "What is the name of the Sikh festival that celebrates the birth of Guru Nanak Dev?",
  optionA: "Vaisakhi",
  optionB: "Gurpurab",
  optionC: "Diwali",
  optionD: "Holi",
  correctOption: "optionB"
  },
  
  {
  question: "What is the name of the Sikh festival that celebrates the release of Guru Hargobind from prison?",
  optionA: "Diwali",
  optionB: "Holi",
  optionC: "Gurpurab",
  optionD: "Bandi Chhor Divas",
  correctOption: "optionD"
  },
  
  {
  question: "What is the name of the Sikh festival that celebrates the birth of Guru Gobind Singh?",
  optionA: "Baisakhi",
  optionB: "Gurpurab",
  optionC: "Diwali",
  optionD: "Holi",
  correctOption: "optionB"
  },
  {
    question: "Who founded Sikhism?",
    optionA: "Guru Nanak",
    optionB: "Mahavira",
    optionC: "Gautama Buddha",
    optionD: "Jesus Christ",
    correctOption: "optionA"
    },
    {
    question: "What is the name of the first Sikh Guru?",
    optionA: "Guru Nanak",
    optionB: "Guru Angad",
    optionC: "Guru Amar Das",
    optionD: "Guru Ram Das",
    correctOption: "optionA"
    },
    {
    question: "What is the name of the tenth Sikh Guru?",
    optionA: "Guru Nanak",
    optionB: "Guru Gobind Singh",
    optionC: "Guru Arjan",
    optionD: "Guru Tegh Bahadur",
    correctOption: "optionB"
    },
    {
    question: "What is the name of the Sikh festival that celebrates the birth of Guru Nanak?",
    optionA: "Vaisakhi",
    optionB: "Diwali",
    optionC: "Gurpurab",
    optionD: "Holi",
    correctOption: "optionC"
    },
    {
    question: "What is the name of the Sikh festival that celebrates the release of Guru Hargobind from prison?",
    optionA: "Diwali",
    optionB: "Holi",
    optionC: "Gurpurab",
    optionD: "Bandi Chhor Divas",
    correctOption: "optionD"
    },
    {
    question: "What is the name of the Sikh festival that celebrates the birth of Guru Gobind Singh?",
    optionA: "Baisakhi",
    optionB: "Gurpurab",
    optionC: "Diwali",
    optionD: "Holi",
    correctOption: "optionB"
    },
    {
    question: "What is the name of the Sikh practice of communal kitchen where food is served to all visitors regardless of their social status or religion?",
    optionA: "Gurudwara",
    optionB: "Langar",
    optionC: "Sewa",
    optionD: "Simran",
    correctOption: "optionB"
    },
    {
    question: "What is the name of the Sikh martial art that emphasizes spiritual and physical discipline?",
    optionA: "Gatka",
    optionB: "Kalaripayattu",
    optionC: "Muay Thai",
    optionD: "Judo",
    correctOption: "optionA"
    },
    {
    question: "What is the name of the Sikh scripture that describes the life and teachings of Guru Nanak?",
    optionA: "Dasam Granth",
    optionB: "Sakhis",
    optionC: "Janamsakhis",
    optionD: "Guru Granth Sahib",
    correctOption: "optionC"
    },
    {
    question: "What is the name of the Sikh holy city where the Harmandir Sahib (Golden Temple) is located?",
    optionA: "Amritsar",
    optionB: "Varanasi",
    optionC: "Mathura",
    optionD: "Ayodhya",
    correctOption: "optionA"
    },
    {
      question: "What is the name of the prayer recited daily by Sikhs?",
      optionA: "Ardaas",
      optionB: "Japji Sahib",
      optionC: "Anand Sahib",
      optionD: "Chaupai Sahib",
      correctOption: "optionB"
      },
      {
      question: "What is the name of the Sikh martial art?",
      optionA: "Gatka",
      optionB: "Kalaripayattu",
      optionC: "Krav Maga",
      optionD: "Muay Thai",
      correctOption: "optionA"
      },
      {
      question: "What is the name of the Sikh holiday that celebrates the harvest season?",
      optionA: "Baisakhi",
      optionB: "Diwali",
      optionC: "Holi",
      optionD: "Lohri",
      correctOption: "optionA"
      },
      {
      question: "What is the name of the first Sikh guru?",
      optionA: "Guru Nanak",
      optionB: "Guru Gobind Singh",
      optionC: "Guru Tegh Bahadur",
      optionD: "Guru Har Rai",
      correctOption: "optionA"
      },
      {
      question: "What is the name of the Sikh festival that celebrates the installation of the Guru Granth Sahib?",
      optionA: "Gurpurab",
      optionB: "Baisakhi",
      optionC: "Diwali",
      optionD: "Bandi Chhor Divas",
      correctOption: "optionA"
      },
      {
      question: "What is the name of the Sikh holiday that commemorates the martyrdom of Guru Arjan Dev?",
      optionA: "Gurpurab",
      optionB: "Baisakhi",
      optionC: "Diwali",
      optionD: "Shaheedi Divas",
      correctOption: "optionD"
      },
      {
      question: "What is the name of the Sikh festival that commemorates the martyrdom of the younger Sahibzadas?",
      optionA: "Baisakhi",
      optionB: "Gurpurab",
      optionC: "Diwali",
      optionD: "Shaheedi Jor Mela",
      correctOption: "optionD"
      },
      {
      question: "What is the name of the Sikh practice of providing free food to all visitors, regardless of religion or caste?",
      optionA: "Gurdwara",
      optionB: "Langar",
      optionC: "Seva",
      optionD: "Ardaas",
      correctOption: "optionB"
      },
      {
      question: "What is the name of the Sikh greeting that means 'God is truth'?",
      optionA: "Satnam",
      optionB: "Waheguru",
      optionC: "Sat Sri Akal",
      optionD: "Guru Fateh",
      correctOption: "optionC"
      },
      {
      question: "What is the name of the Sikh prayer for protection?",
      optionA: "Kirtan Sohila",
      optionB: "Anand Sahib",
      optionC: "Chaupai Sahib",
      optionD: "Japji Sahib",
      correctOption: "optionC"
      },
      {
        question: "Who is considered the founder of Sikhism?",
        optionA: "Guru Nanak",
        optionB: "Guru Gobind Singh",
        optionC: "Guru Arjan",
        optionD: "Guru Har Rai",
        correctOption: "optionA"
        },
        {
        question: "What is the name of the Sikh initiation ceremony?",
        optionA: "Langar",
        optionB: "Kirtan",
        optionC: "Amrit Sanchar",
        optionD: "Gurmat Camp",
        correctOption: "optionC"
        },
        {
        question: "What is the name of the Sikh festival that celebrates the birth of Guru Nanak?",
        optionA: "Gurpurab",
        optionB: "Baisakhi",
        optionC: "Diwali",
        optionD: "Holi",
        correctOption: "optionA"
        },
        {
        question: "What is the name of the Sikh warrior community established by Guru Gobind Singh?",
        optionA: "Khalsa",
        optionB: "Nihang",
        optionC: "Singh Sabha",
        optionD: "Namdhari",
        correctOption: "optionA"
        },
        {
        question: "What is the name of the Sikh scripture that was compiled by Guru Arjan?",
        optionA: "Guru Granth Sahib",
        optionB: "Dasam Granth",
        optionC: "Janamsakhi",
        optionD: "Hukamnama",
        correctOption: "optionA"
        },
        {
        question: "What is the name of the Sikh festival that celebrates the harvest season?",
        optionA: "Baisakhi",
        optionB: "Lohri",
        optionC: "Maghi",
        optionD: "Vaisakhi",
        correctOption: "optionD"
        },
        {
        question: "What is the name of the Sikh festival that commemorates the martyrdom of Guru Arjan?",
        optionA: "Bandi Chhor Divas",
        optionB: "Holla Mohalla",
        optionC: "Guru Tegh Bahadur Martyrdom Day",
        optionD: "Shaheedi Gurpurab",
        correctOption: "optionD"
        },
        {
        question: "What is the name of the Sikh musical instrument played during kirtan?",
        optionA: "Dhol",
        optionB: "Tabla",
        optionC: "Sarangi",
        optionD: "Harmonium",
        correctOption: "optionD"
        },
        {
        question: "What is the name of the Sikh festival that commemorates the martyrdom of Guru Tegh Bahadur?",
        optionA: "Guru Tegh Bahadur Martyrdom Day",
        optionB: "Shaheedi Gurpurab",
        optionC: "Holla Mohalla",
        optionD: "Guru Nanak Jayanti",
        correctOption: "optionB"
        },
        {
        question: "What is the name of the Sikh ceremony for naming a newborn baby?",
        optionA: "Anand Karaj",
        optionB: "Naam Karan",
        optionC: "Amrit Sanchar",
        optionD: "Guru Ka Langar",
        correctOption: "optionB"
        },
        {
          question: "What is the name of the Sikh festival that celebrates the birth of Guru Nanak?",
          optionA: "Guru Nanak Jayanti",
          optionB: "Gurpurab",
          optionC: "Holi",
          optionD: "Diwali",
          correctOption: "optionB"
          },
          
          {
          question: "What is the name of the Sikh warrior community established by Guru Gobind Singh?",
          optionA: "Kaur",
          optionB: "Khalsa",
          optionC: "Singh",
          optionD: "Sikh",
          correctOption: "optionB"
          },
          
          {
          question: "What is the name of the holy site in Amritsar that is considered the most important place of pilgrimage for Sikhs?",
          optionA: "Harmandir Sahib",
          optionB: "Golden Temple",
          optionC: "Gurdwara",
          optionD: "Sri Akal Takht Sahib",
          correctOption: "optionB"
          },
          
          {
          question: "What is the name of the Sikh festival that celebrates the harvesting season?",
          optionA: "Baisakhi",
          optionB: "Lohri",
          optionC: "Diwali",
          optionD: "Holi",
          correctOption: "optionA"
          },
          
          {
          question: "What is the name of the Sikh festival that commemorates the martyrdom of Guru Arjan?",
          optionA: "Guru Arjan Martyrdom Day",
          optionB: "Guru Tegh Bahadur Martyrdom Day",
          optionC: "Gurpurab",
          optionD: "Shaheedi Gurpurab",
          correctOption: "optionD"
          },
          
          {
          question: "What is the name of the Sikh scripture that contains the compositions of the first five Gurus?",
          optionA: "Guru Granth Sahib",
          optionB: "Dasam Granth",
          optionC: "Janamsakhis",
          optionD: "Adi Granth",
          correctOption: "optionD"
          },
          
          {
          question: "What is the name of the Sikh martial art that was developed to defend against invaders?",
          optionA: "Krav Maga",
          optionB: "Kung Fu",
          optionC: "Gatka",
          optionD: "Capoeira",
          correctOption: "optionC"
          },
          
          {
          question: "What is the name of the Sikh festival that celebrates the return of Guru Hargobind from captivity in the Gwalior fort?",
          optionA: "Guru Hargobind Jayanti",
          optionB: "Gurpurab",
          optionC: "Vaisakhi",
          optionD: "Bandi Chhor Divas",
          correctOption: "optionD"
          },
          
          {
          question: "What is the name of the Sikh tradition of community service and volunteering?",
          optionA: "Seva",
          optionB: "Sangat",
          optionC: "Simran",
          optionD: "Sewa",
          correctOption: "optionA"
          },
          
          {
          question: "What is the name of the Sikh festival that marks the end of the harvesting season?",
          optionA: "Lohri",
          optionB: "Baisakhi",
          optionC: "Diwali",
          optionD: "Gurpurab",
          correctOption: "optionA"
          }]


let shuffledQuestions = [] //empty array to hold shuffled selected questions out of all available questions

function handleQuestions() { 
  //function to shuffle and push 10 questions to shuffledQuestions array
//app would be dealing with 10questions per session
  while (shuffledQuestions.length <= 9) {
      const random = questions[Math.floor(Math.random() * questions.length)]
      if (!shuffledQuestions.includes(random)) {
          shuffledQuestions.push(random)
      }
  }
}


let questionNumber = 1 //holds the current question number
let playerScore = 0  //holds the player score
let wrongAttempt = 0 //amount of wrong answers picked by player
let indexNumber = 0 //will be used in displaying next question

// function for displaying next question in the array to dom
//also handles displaying players and quiz information to dom
function NextQuestion(index) {
  handleQuestions()
  const currentQuestion = shuffledQuestions[index]
  document.getElementById("question-number").innerHTML = questionNumber
  document.getElementById("player-score").innerHTML = playerScore
  document.getElementById("display-question").innerHTML = currentQuestion.question;
  document.getElementById("option-one-label").innerHTML = currentQuestion.optionA;
  document.getElementById("option-two-label").innerHTML = currentQuestion.optionB;
  document.getElementById("option-three-label").innerHTML = currentQuestion.optionC;
  document.getElementById("option-four-label").innerHTML = currentQuestion.optionD;

}


function checkForAnswer() {
  const currentQuestion = shuffledQuestions[indexNumber] //gets current Question 
  const currentQuestionAnswer = currentQuestion.correctOption //gets current Question's answer
  const options = document.getElementsByName("option"); //gets all elements in dom with name of 'option' (in this the radio inputs)
  let correctOption = null

  options.forEach((option) => {
      if (option.value === currentQuestionAnswer) {
          //get's correct's radio input with correct answer
          correctOption = option.labels[0].id
      }
  })

  //checking to make sure a radio input has been checked or an option being chosen
  if (options[0].checked === false && options[1].checked === false && options[2].checked === false && options[3].checked == false) {
      document.getElementById('option-modal').style.display = "flex"
  }

  //checking if checked radio button is same as answer
  options.forEach((option) => {
      if (option.checked === true && option.value === currentQuestionAnswer) {
          document.getElementById(correctOption).style.backgroundColor = "green"
          playerScore++ //adding to player's score
          indexNumber++ //adding 1 to index so has to display next question..
          //set to delay question number till when next question loads
          setTimeout(() => {
              questionNumber++
          }, 1000)
      }

      else if (option.checked && option.value !== currentQuestionAnswer) {
          const wrongLabelId = option.labels[0].id
          document.getElementById(wrongLabelId).style.backgroundColor = "red"
          document.getElementById(correctOption).style.backgroundColor = "green"
          wrongAttempt++ //adds 1 to wrong attempts 
          indexNumber++
          //set to delay question number till when next question loads
          setTimeout(() => {
              questionNumber++
          }, 1000)
      }
  })
}



//called when the next button is called
function handleNextQuestion() {
  checkForAnswer() //check if player picked right or wrong option
  unCheckRadioButtons()
  //delays next question displaying for a second just for some effects so questions don't rush in on player
  setTimeout(() => {
      if (indexNumber <= 9) {
//displays next question as long as index number isn't greater than 9, remember index number starts from 0, so index 9 is question 10
          NextQuestion(indexNumber)
      }
      else {
          handleEndGame()//ends game if index number greater than 9 meaning we're already at the 10th question
      }
      resetOptionBackground()
  }, 1000);
}

//sets options background back to null after display the right/wrong colors
function resetOptionBackground() {
  const options = document.getElementsByName("option");
  options.forEach((option) => {
      document.getElementById(option.labels[0].id).style.backgroundColor = ""
  })
}

// unchecking all radio buttons for next question(can be done with map or foreach loop also)
function unCheckRadioButtons() {
  const options = document.getElementsByName("option");
  for (let i = 0; i < options.length; i++) {
      options[i].checked = false;
  }
}

// function for when all questions being answered
function handleEndGame() {
  let remark = null
  let remarkColor = null

  // condition check for player remark and remark color
  if (playerScore <= 3) {
      remark = "Bad Grades, Keep Practicing."
      remarkColor = "red"
  }
  else if (playerScore >= 4 && playerScore < 7) {
      remark = "Average, You can do better."
      remarkColor = "orange"
  }
  else if (playerScore >= 7) {
      remark = "Excellent, Keep the good work going."
      remarkColor = "green"
  }
  const playerGrade = (playerScore / 10) * 100

  //data to display to score board
  document.getElementById('remarks').innerHTML = remark
  document.getElementById('remarks').style.color = remarkColor
  document.getElementById('grade-percentage').innerHTML = playerGrade
  document.getElementById('wrong-answers').innerHTML = wrongAttempt
  document.getElementById('right-answers').innerHTML = playerScore
  document.getElementById('score-modal').style.display = "flex"

}

//closes score modal, resets game and reshuffles questions
function closeScoreModal() {
  questionNumber = 1
  playerScore = 0
  wrongAttempt = 0
  indexNumber = 0
  shuffledQuestions = []
  NextQuestion(indexNumber)
  document.getElementById('score-modal').style.display = "none"
}

//function to close warning modal
function closeOptionModal() {
  document.getElementById('option-modal').style.display = "none"
}